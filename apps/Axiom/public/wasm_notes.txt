# Bevy Wasm Integration Notes

This directory (`public/`) is intended to host your compiled Bevy Wasm assets (e.g., `your_bevy_app.wasm`, `your_bevy_app.js`, and `your_bevy_app_bg.wasm`).

## Steps for Bevy Wasm Integration:

1.  **Compile your Bevy app to Wasm**:
    Follow Bevy's documentation on Wasm exports. You'll typically use `wasm-bindgen` and `wasm-pack`.
    Example `Cargo.toml` settings for the Bevy project:
    ```toml
    [lib]
    crate-type = ["cdylib", "rlib"]

    [dependencies]
    bevy = { version = "0.12", features = ["bevy_asset", "bevy_winit", "render"] } # Adjust features as needed
    wasm-bindgen = "0.2"

    [profile.wasm-release]
    inherits = "release"
    opt-level = 'z'
    lto = true
    codegen-units = 1
    panic = "abort"
    ```
    Build command: `wasm-pack build --target web --release`

2.  **Move compiled Wasm assets**:
    After building, move the generated `.wasm`, `.js`, and potentially other assets from `pkg/` (or your output directory) into this `public/` directory within your Vue `frontend` project.

3.  **Load Wasm module in Vue**:
    You'll need to load and initialize the Wasm module within your Vue component. This typically involves using the generated `.js` glue code.

    Example in `App.vue` (or a dedicated component):
    ```javascript
    import { onMounted, ref } from 'vue';

    const wasmReady = ref(false);

    onMounted(async () => {
      try {
        const wasm = await import('../public/your_bevy_app.js'); // Adjust path
        await wasm.default(); // Initialize the Wasm module
        wasmReady.value = true;
        // Optionally, interact with your Bevy app if it exposes functions
        // e.g., wasm.start_bevy_app("#bevy-canvas-container");
      } catch (e) {
        console.error("Error loading Bevy Wasm:", e);
      }
    });
    ```
    And in `index.html`, you might need a canvas element:
    ```html
    <canvas id="bevy-canvas"></canvas>
    ```

4.  **Handle Canvas**: Bevy typically renders to a canvas. Ensure your Vue app provides a suitable canvas element with an ID that Bevy can target, or configure Bevy to take a specific canvas element.
    In `App.vue`, you would typically embed the canvas:
    ```html
    <template>
      <div id="bevy-container">
        <canvas id="bevy-canvas"></canvas>
      </div>
    </template>
    ```

These are general guidelines. Refer to the official Bevy and `wasm-bindgen` documentation for the most up-to-date and specific instructions.
